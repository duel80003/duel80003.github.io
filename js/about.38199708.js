(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"2d3b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-10"},[s("q-input",{staticClass:"q-ml-md",attrs:{dense:"",outlined:"",placeholder:"搜尋地點"},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.text?s("q-icon",{attrs:{name:"search"}}):s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:t.clean}})]},proxy:!0},{key:"after",fn:function(){return[s("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"send",color:"primary"},on:{click:t.search}})]},proxy:!0}]),model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-10"},[t.showList?s("infinite-scroller",{on:{processingLoad:t.onLoad}}):t._e()],1)])])},r=[],n=(s("a4d3"),s("4de4"),s("4160"),s("1d1c"),s("7a82"),s("e439"),s("dbb4"),s("b64b"),s("498a"),s("159b"),s("ade3")),i=s("5670"),o=s("9f2d"),c=s("808d"),l=s("2f62"),u=s("9e74");function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"Search",components:{InfiniteScroller:u["a"]},mounted:function(){this.$store.commit("setCurrentPath","search"),this.$store.commit("setParentPath","/search"),this.getRestaurants.length>0&&(this.showList=!0)},data:function(){return{text:"",isLoading:!1,showList:!1}},methods:{clean:function(){this.text="",this.$store.commit("cleanList"),this.showList=!1},search:function(){var t=this,e=this.text.trim();if(e.length>0){var s={query:e,type:"restaurant",radius:500,language:"zh-TW"};this.isLoading=!0;var a=function(){t.isLoading=!1,t.showList=!0},r=function(){t.isLoading=!1,t.showList=!1},n={params:s,onSuccess:a,onFailure:r};this.$store.dispatch("searchByText",n)}},onLoad:function(t){var e=this,s=Object(c["a"])(100,500),a=s.pipe(Object(i["a"])((function(){return e.getNextPageToken}))),r=s.pipe(Object(o["a"])(a));this.$subscribeTo(r,null,null,(function(){var s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t(!e)};e.$store.dispatch("fetchNextPage",s)}))}},computed:p({},Object(l["b"])(["getNextPageToken","getRestaurants"]))},f=h,b=s("2877"),g=Object(b["a"])(f,a,r,!1,null,null,null);e["default"]=g.exports},ad68:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"q-py-sm"},[s("q-btn",{attrs:{round:"",color:"primary",icon:"arrow_back",to:t.path}})],1),s("div",{staticClass:"q-pt-sm"},[s("q-card",[s("image-casrouse",{directives:[{name:"show",rawName:"v-show",value:t.isContainPhotos,expression:"isContainPhotos"}]}),s("q-card-section",[s("q-btn",{staticClass:"absolute",staticStyle:{top:"0",right:"12px",transform:"translateY(-50%)"},attrs:{round:"",color:"primary",icon:"place",size:"md"},on:{click:t.openLink}}),s("div",{staticClass:"row no-wrap items-center"},[s("div",{staticClass:"col text-h6 ellipsis"},[t._v(" "+t._s(t.name)+" ")])]),s("div",{staticStyle:{display:"inline-flex"}},[s("q-rating",{attrs:{readonly:"",max:5,color:"positive",size:"32px"},model:{value:t.stars,callback:function(e){t.stars=e},expression:"stars"}}),s("div",{staticClass:"text-subtitle1 q-mt-sm q-ml-md"},[t._v(" "+t._s(t.stars)+"/"+t._s(t.ratingTotal)+" "),s("span",{staticClass:"text-caption"},[t._v(" 人評論")])])],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-icon",{staticClass:"text-teal",attrs:{name:"home"}}),s("span",{staticClass:"q-ml-sm",domProps:{innerHTML:t._s(t.address)}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-icon",{staticClass:"text-orange",attrs:{name:"store_mall_directory"}}),s("span",{staticClass:"q-ml-sm"},[t._v(t._s(t.isOpening))])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-icon",{staticClass:"text-info",attrs:{name:"phone"}}),s("a",{staticClass:"q-ml-sm",attrs:{href:"tel: "+t.phone}},[t._v(t._s(t.phone))])],1)]),t.webUrl?s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-icon",{staticClass:"text-info",attrs:{name:"web"}}),s("a",{staticClass:"q-ml-sm",attrs:{href:t.webUrl,target:"_blank"}},[t._v(" 檢視網頁"),s("q-icon",{attrs:{name:"open_in_new"}})],1)],1)]):t._e()],1),s("q-card-actions",[s("q-space"),t._v(" 看評論 "),s("q-btn",{attrs:{color:"grey",round:"",flat:"",dense:"",icon:t.expanded?"keyboard_arrow_up":"keyboard_arrow_down"},on:{click:function(e){t.expanded=!t.expanded}}})],1),s("q-slide-transition",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}]},[s("q-separator"),t._l(t.getReviews,(function(e,a){return s("q-card-section",{key:a},[s("div",{staticClass:"text-subtitle1"},[t._v(" "+t._s(e.author_name)+" "),s("span",{staticClass:"float-right"},[t._v(" "+t._s(e.relative_time_description)+" "),s("q-rating",{attrs:{readonly:"",color:"positive",max:5},model:{value:e.rating,callback:function(s){t.$set(e,"rating",s)},expression:"review.rating"}})],1)]),s("div",{staticClass:"text-caption text-grey"},[t._v(" "+t._s(e.text)+" ")])])}))],2)])],1)],1)])},r=[],n=(s("a4d3"),s("4de4"),s("4160"),s("277d"),s("4e82"),s("b0c0"),s("1d1c"),s("7a82"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("ade3")),i=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0===t.photos.length?s("q-skeleton",{attrs:{height:"300px",square:""}}):s("q-carousel",{attrs:{swipeable:"",animated:"",thumbnails:"",infinite:"",height:"300px"},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.photos,(function(t,e){return s("q-carousel-slide",{key:e,attrs:{name:e,"img-src":t}})})),1)],1)},c=[];function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={name:"ImageCasrouse",data:function(){return{slide:0}},computed:u({},Object(i["b"])(["getSelectedRestaurantPhotos"]),{photos:function(){return this.getSelectedRestaurantPhotos?this.getSelectedRestaurantPhotos:[]}})},p=d,h=s("2877"),f=Object(h["a"])(p,o,c,!1,null,null,null),b=f.exports;function g(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function m(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?g(Object(s),!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var v={name:"Restaurant",components:{ImageCasrouse:b},data:function(){return{stars:0,name:"",address:"",isOpening:"",expanded:!1,url:"",phone:"",ratingTotal:0,webUrl:"",isContainPhotos:!0}},mounted:function(){var t=this.$router.currentRoute;this.$store.dispatch("fetchSelectedRestaurant",t.params.id),this.$store.commit("setSelectedRestaurantPhotos",[])},computed:m({},Object(i["b"])(["getSelectedRestaurant","getParentPath"]),{getReviews:function(){var t=[];return this.getSelectedRestaurant&&Array.isArray(this.getSelectedRestaurant.reviews)&&(t=Object.assign([],this.getSelectedRestaurant.reviews),t.sort((function(t,e){return t.time>e.time?-1:1}))),t},path:function(){var t="/";return this.getParentPath&&(t=this.getParentPath),t}}),watch:{getSelectedRestaurant:function(){if(this.getSelectedRestaurant){this.stars=this.getSelectedRestaurant.rating?this.getSelectedRestaurant.rating:0,this.name=this.getSelectedRestaurant.name,this.address=this.getSelectedRestaurant.adr_address,this.phone=this.getSelectedRestaurant.formatted_phone_number,this.getSelectedRestaurant.opening_hours?this.isOpening=this.getSelectedRestaurant.opening_hours.open_now?"營業中":"已收工":this.isOpening="未知的營業時間",this.url=this.getSelectedRestaurant.url,this.ratingTotal=this.getSelectedRestaurant.user_ratings_total,this.webUrl=this.getSelectedRestaurant.website?this.getSelectedRestaurant.website:null;var t=[],e=this.getSelectedRestaurant.photos;if(e)for(var s=0;s<5;s+=1)t.push(e[s].photo_reference);else this.isContainPhotos=!1;var a={photosReference:t,maxheight:400};this.$store.dispatch("fetchPhotos",a)}}},methods:{openLink:function(){window.open(this.url,"_blank")}}},O=v,w=Object(h["a"])(O,a,r,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=about.38199708.js.map